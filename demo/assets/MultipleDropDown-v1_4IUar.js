import{a as p,F as S,j as s,c as f}from"./index-O-l6OFW6.js";import{r as V}from"./index-2fYL9DzZ.js";import{e as N,c as q,g as C}from"./Submit-ZWH0ymzD.js";import{S as k,a as v,b as _,A as B,c as y}from"./DropDown-JnTL_igb.js";const O=c=>{const{className:a,cx:t,data:e,getStyles:i,label:l,isDisabled:r,isFocused:u,isSelected:o,innerRef:n,innerProps:d}=c;return e.children&&e.children.length>0?p("div",{ref:n,className:f(t({option:!0,"option--is-disabled":r,"option--is-focused":u,"option--is-selected":o},a??"dp-pc_checkbox"),y(i("option",c))),...d,children:[p("span",{className:"dp-pc_checkbox__checkbox",children:[s("input",{type:"checkbox",checked:o,readOnly:!0}),s("i",{style:{visibility:"hidden"}}),s("span",{className:"dp-pc_checkbox__label",children:l})]}),s("span",{className:"react-select__option--arrow"})]}):e.value==="select-back"?p("div",{ref:n,className:f(t({option:!0,"option--is-disabled":r,"option--is-focused":u,"option--is-selected":o,"option--is-back":!0},a),y(i("option",c))),...d,children:[s("span",{className:"react-select__option--back-arrow"}),l]}):s("div",{ref:n,className:f(t({option:!0,"option--is-disabled":r,"option--is-focused":u,"option--is-selected":o},a??"dp-pc_checkbox"),y(i("option",c))),...d,children:p("span",{className:"dp-pc_checkbox__checkbox",children:[s("input",{type:"checkbox",checked:o,readOnly:!0}),s("i",{}),s("span",{className:"dp-pc_checkbox__label",children:l})]})})},x={back:"Back",select:"Select"},g=class g extends V.Component{constructor(a){super(a),this.onBlur=()=>{this.props.onBlur(),this.props.closeOnBlur&&this.setState({menuIsOpen:!1})},this.onFocus=()=>{this.props.onFocus(),this.setState({menuIsOpen:!0})},this.onChange=(t,e)=>{if(e.option&&e.option.children&&e.option.children.length>0){const{children:l}=e.option,r=[{label:this.i18n.back,value:"select-back",parents:this.state.options}].concat(l);return this.setState({options:r}),!1}if(e.option&&e.option.parents&&e.option.parents.length>0)return this.setState({options:e.option.parents}),!1;this.setState({value:t}),this.select.current.inputRef.blur();const i=t?t.map(l=>l.value):null;return this.props.onChange(i),!0},this.closeMenu=()=>{this.props.closeOnBlur||(this.setState({menuIsOpen:!1}),this.select.current.inputRef.blur())},this.onClickout=()=>{!this.props.closeOnBlur&&this.state.menuIsOpen&&(this.setState({menuIsOpen:!1}),this.select.current.inputRef.blur())},this.loadOptions=t=>{const{dataSource:e}=this.props,i=this.props.value;return Array.isArray(e.getOptions)?e.getOptions:e.getOptions(t).then(l=>{const r=[];return l.forEach(u=>{i&&i.some(o=>o===u.value)&&r.push(u)}),this.setState({value:r}),l})},this.setOptions=()=>{const{value:t}=this.state,{value:e,dataSource:i}=this.props;if(Array.isArray(i.getOptions)&&e&&!t){const l=u=>{const o=[];return u.forEach(n=>{if(e&&e.some(d=>d===n.value)&&o.push(n),n.children&&n.children.length){const d=l(n.children);o.push(...d)}}),o},r=l(i.getOptions);this.setState({value:r})}},this.i18n=N(x,a.i18n),this.select=V.createRef(),this.state={value:null,menuIsOpen:!1,options:a.dataSource.getOptions}}componentDidMount(){this.setOptions()}componentDidUpdate(){}render(){const{name:a,dataSource:t,isClearable:e,isSearchable:i,value:l,...r}=this.props,{value:u,options:o}=this.state;return Array.isArray(t.getOptions)?p(S,{children:[s("div",{className:"react-select__dropdown-multi_clickout",style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",display:this.state.menuIsOpen?"block":"none"},onClick:this.onClickout}),s(k,{ref:this.select,name:a,isClearable:e,isSearchable:i,hideSelectedOptions:!1,components:{SelectContainer:v,Option:O,DropdownIndicator:n=>s(_,{closeMenu:this.closeMenu,...n})},menuIsOpen:this.state.menuIsOpen,options:o,classNamePrefix:"react-select",placeholder:this.i18n.select,isMulti:!0,...r,className:"react-select-multi",value:u,onFocus:this.onFocus,onBlur:this.onBlur,onChange:this.onChange})]}):s(B,{ref:this.select,value:this.state.value,name:a,isClearable:!1,hideSelectedOptions:!1,components:{SelectContainer:v,Option:O,DropdownIndicator:n=>s(_,{closeMenu:this.closeMenu,...n})},defaultOptions:!0,cacheOptions:!0,loadOptions:n=>this.loadOptions(n),classNamePrefix:"react-select",isMulti:!0,...r,onChange:this.onChange})}};g.defaultProps={i18n:{},onBlur(){},onFocus(){}};let h=g;const b=class b extends q{constructor(){super(...arguments),this.onBlur=a=>{const{name:t}=this.props;this.props.onBlur(),a&&a.setFieldTouched(t,!0)},this.onChange=(a,t)=>{const{name:e}=this.props;a.setFieldValue(e,t),this.props.handleChange(t)}}renderField({form:a}){return s(h,{onBlur:()=>this.onBlur(a),onChange:t=>this.onChange(a,t),value:C(a.values,this.props.name),...this.props})}};b.defaultProps={...q.defaultProps,closeOnBlur:!0,handleChange(){},isClearable:!1,isSearchable:!0,onBlur(){},onFocus(){}};let m=b;try{h.displayName="MultipleDropDownInput",h.__docgenInfo={description:"",displayName:"MultipleDropDownInput",props:{dataSource:{defaultValue:null,description:"",name:"dataSource",required:!0,type:{name:"DataSource"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: string | number) => void"}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!0,type:{name:"() => void"}},onFocus:{defaultValue:null,description:"",name:"onFocus",required:!0,type:{name:"() => void"}},isClearable:{defaultValue:null,description:"",name:"isClearable",required:!1,type:{name:"boolean"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string[] | number[]"}},isSearchable:{defaultValue:null,description:"",name:"isSearchable",required:!1,type:{name:"boolean"}},closeOnBlur:{defaultValue:null,description:"",name:"closeOnBlur",required:!1,type:{name:"boolean"}},handleChange:{defaultValue:null,description:"",name:"handleChange",required:!0,type:{name:"(value: any) => void"}},key:{defaultValue:null,description:"",name:"key",required:!1,type:{name:"string"}},name:{defaultValue:null,description:"",name:"name",required:!1,type:{name:"string"}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!1,type:{name:"string"}},errorsName:{defaultValue:null,description:"",name:"errorsName",required:!1,type:{name:"string"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}},description:{defaultValue:null,description:"",name:"description",required:!1,type:{name:"string"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},fClassName:{defaultValue:null,description:"",name:"fClassName",required:!1,type:{name:"string"}},required:{defaultValue:null,description:"",name:"required",required:!1,type:{name:"boolean"}},i18n:{defaultValue:{value:"{}"},description:"",name:"i18n",required:!1,type:{name:"I18nType"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"string"}},validate:{defaultValue:null,description:"",name:"validate",required:!1,type:{name:"() => void"}}}}}catch{}try{m.displayName="MultipleDropDown",m.__docgenInfo={description:"",displayName:"MultipleDropDown",props:{handleChange:{defaultValue:null,description:"",name:"handleChange",required:!0,type:{name:"(value: any) => void"}},dataSource:{defaultValue:null,description:"",name:"dataSource",required:!0,type:{name:"DataSource"}},key:{defaultValue:null,description:"",name:"key",required:!1,type:{name:"string"}},name:{defaultValue:null,description:"",name:"name",required:!1,type:{name:"string"}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!1,type:{name:"string"}},errorsName:{defaultValue:null,description:"",name:"errorsName",required:!1,type:{name:"string"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}},description:{defaultValue:null,description:"",name:"description",required:!1,type:{name:"string"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},fClassName:{defaultValue:null,description:"",name:"fClassName",required:!1,type:{name:"string"}},required:{defaultValue:null,description:"",name:"required",required:!1,type:{name:"boolean"}},i18n:{defaultValue:null,description:"",name:"i18n",required:!1,type:{name:"I18nType"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"string"}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!1,type:{name:"() => void"}},onFocus:{defaultValue:null,description:"",name:"onFocus",required:!1,type:{name:"() => void"}},validate:{defaultValue:null,description:"",name:"validate",required:!1,type:{name:"() => void"}}}}}catch{}export{m as M};
